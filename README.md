# 项目名称 #

30-day-DIY-Opreating-System

# 项目简介 #

本项目基于《30天自制操作系统》一书的学习与实践，使用汇编语言与C语言手工编写了一个从零开始的操作系统内核。该操作系统以 尝试与实验 为核心目标，旨在帮助开发者理解操作系统底层运行机制，包括 启动加载、内存管理、中断处理、多任务调度、图形界面绘制 等关键功能。 <br>
在完成这个项目的过程中，可以掌握了 CPU、内存、设备驱动的工作原理，还实际体验了一个简化但可运行的多任务图形操作系统的构建过程。

# 功能特性 #

1.启动与引导
 
- 通过自制的引导扇区（boot sector）加载内核。
- 支持从软盘/镜像文件启动。

2.内存和任务管理

- 内存检测与管理：实现基本的内存分配与回收机制。
- 多任务调度：通过定时器中断实现任务切换，支持多个任务并行运行。

3.输入输出设备支持
- 键盘输入：支持字符输入与特殊键（如 CapsLock、NumLock）的处理。
- 鼠标驱动：支持鼠标移动与点击事件，结合窗口系统进行交互。

4.图形界面与窗口管理
- VGA 图形模式驱动。
- 图层（sheet）与窗口（window）管理系统，实现窗口叠放、刷新与移动。
- 支持基本的窗口控件绘制（关闭按钮、标题栏等）。

5.命令行与应用程序
- 提供简易的命令行窗口，用户可输入命令与内核交互。
- 内置若干演示性应用程序（如时钟显示、绘图功能）。

6.系统扩展性
- 采用模块化设计,便于进一步添加文件系统、网络协议栈等高级功能。

# 开发环境 #

- 操作系统：Windows 10/11（主要编译和调试环境）
- 工具链：
  - 汇编器：NASM
  - 编译器：GCC (交叉编译版)
  - 链接器：LD
- 调试运行环境：
  - Bochs 或 QEMU 虚拟机（用于运行和调试系统镜像）
- 代码编辑器：Visual Studio Code / Visual Studio 2022
- 开发语言： 汇编语言&C89

通过上述环境配置，可以实现从源代码编译生成可引导的操作系统镜像，并在虚拟机中快速验证运行效果。

## 下载运行 ##
直接下载[**tolset&src**](https://github.com/yalishidoorder/30-day-DIY-Operating-System/releases/download/v1.0.0/tolsel.src.zip)文件，在myharib目录下打开cmd输入

```bash
make run_full
```
即可运行

# myharib结构导航 #

以下是项目主要的文件树：

<details>
<summary>📂 myharib</summary>

<pre>
myharib/
│
├─ apilib/                # 系统 API 的汇编实现（系统调用接口）
│
├─ haribote/              # 操作系统核心代码（内核：启动、内存、任务管理、GUI 等）
│
├─ a/                     # C 应用程序示例
├─ bball/                 # C 应用程序：绘制小球
├─ beepdown/              # C 应用程序：蜂鸣器控制
├─ calc/                  # C 应用程序：计算器
├─ chklang/               # C 应用程序：语言检测
├─ color/                 # C 应用程序：颜色测试
├─ color2/                # C 应用程序：颜色渐变
├─ gview/                 # C 应用程序：图像查看器
├─ hello3/                # C 应用程序：Hello World 示例 3
├─ hello4/                # C 应用程序：Hello World 示例 4
├─ hello5/                # C 应用程序：Hello World 示例 5
├─ invader/               # C 应用程序：小游戏（太空入侵者）
├─ iroha/                 # C 应用程序：平假名测试
├─ lines/                 # C 应用程序：直线绘制
├─ mmldata/               # C 应用程序资源：MML 数据
├─ mmlplay/               # C 应用程序：音乐播放
├─ nihongo/               # C 应用程序：日语字符显示
├─ noodle/                # C 应用程序：计时器演示用程序
├─ notrec/                # C 应用程序：录音相关
├─ pictdata/              # C 应用程序资源：图片数据
├─ prime/                 # C 应用程序：素数计算
├─ prime2/                # C 应用程序：素数计算 2
├─ prime3/                # C 应用程序：素数计算 3
├─ sf/                    # C 应用程序：示例程序
├─ star1/                 # C 应用程序：星空动画 1
├─ stars/                 # C 应用程序：星空动画
├─ stars2/                # C 应用程序：星空动画 2
├─ tek/                   # C 应用程序：文件压缩
├─ tview/                 # C 应用程序：文本查看器
├─ type/                  # C 应用程序：输入输出演示
├─ walk/                  # C 应用程序：走动演示
├─ winhelo/               # C 应用程序：窗口版 Hello World
├─ winhelo2/              # C 应用程序：窗口版 Hello World 2
├─ winhelo3/              # C 应用程序：窗口版 Hello World 3
│
├─ app_make.txt           # 应用程序编译说明
├─ cn.txt                 # 中文编码说明
├─ euc.txt                # 日文 EUC 编码说明
├─ haribote.rul           # 编译规则文件
├─ make.bat               # Windows 编译脚本
├─ Makefile               # Makefile（Linux/Unix 环境下编译配置）
├─ my_apilib.h            # C 头文件，对应 apilib 中的 API
</pre>

</details>

# 感悟 # 

完成这个项目，让我体会到从零开发一个操作系统的完整流程：引导、内存、任务、驱动、GUI，每一步都与硬件紧密相关。这不仅让我巩固了操作系统的知识，还让我养成了系统化思考和逐步调试的习惯。<br>
对我而言，这个项目不仅是一次技术上的锻炼，更是一段探索计算机世界的旅程。它让我看到自己能从“黑盒子”外的使用者，逐渐走进“黑盒子”里的构造者。这份积累，将成为我在系统编程、嵌入式开发和底层研究道路上的重要基石。
